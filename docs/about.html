<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Raphael Feser -</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/molstar-v3.13.0/molstar.js"></script>
<link href="site_libs/quarto-contrib/molstar-v3.13.0/molstar.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/molstar-v3.13.0/app-container.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Raphael Feser</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./about.html" rel="" target="" aria-current="page">
 <span class="menu-text">Extended CV</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#education" id="toc-education" class="nav-link active" data-scroll-target="#education">Education</a></li>
  <li><a href="#experience" id="toc-experience" class="nav-link" data-scroll-target="#experience">Experience</a></li>
  <li><a href="#outreach-activities" id="toc-outreach-activities" class="nav-link" data-scroll-target="#outreach-activities">Outreach activities</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<p><img src="docs/me2.jpg" style="float:right;border-radius:50%;width:160px;padding:6px"></p>
<section id="education" class="level1">
<h1>Education</h1>
<ul>
<li><strong>Ph.D in Biomolecular Modelling</strong> - University of Geneva | Ongoing</li>
<li><strong>Federal Diploma in Pharmacy</strong> (Pharm.D equivalent) | Oct 2023</li>
<li><strong>M.Sc in Pharmacy</strong> - University of Geneva | July 2023</li>
<li><strong>B.Sc in Pharmaceutical Sciences</strong> - University of Geneva | July 2021</li>
<li><strong>Swiss Matura (High School Diploma)</strong> - Gymnase de Nyon | July 2018</li>
</ul>
<p><strong>__________________</strong></p>
<p><br></p>
</section>
<section id="experience" class="level1">
<h1>Experience</h1>
<h5 class="anchored" data-anchor-id="experience">
<strong>Ph.D in Biomolecular Modelling</strong> - <strong>University of Geneva</strong>
</h5>
<p><strong>Prof.&nbsp;Francesco L. Gervasio</strong> <br> <em>Ongoing</em></p>
<p>Currently, my focus is on G protein-coupled receptors (GPCRs), the largest family of receptors in the human body, which play a crucial role in numerous physiological functions, making them important targets for drug discovery. A detailed understanding of their activation mechanisms, from drug binding to effector signalling, will improve rational drug design. I aim to achieve this by using enhanced sampling molecular dynamics (MD) simulations in conjunction with other molecular modelling methods.</p>
    <div id="app-8dcr" class="molstar-app"></div>
    <script type="text/javascript">
    molstar.Viewer.create("app-8dcr", {"layoutIsExpanded":false,"layoutShowLeftPanel":true,"viewportShowAnimation":true,"layoutShowSequence":false,"pdbProvider":"rcsb","emdbProvider":"rcsb","layoutShowLog":false,"layoutShowRemoteState":false,"viewportShowExpand":true,"viewportShowSelectionMode":false,"layoutShowControls":false}).then(viewer => {
    viewer.loadPdb("8dcr");    });
    </script>
    
<p><em>Structure of a typical Class A GPCR (β1-AR in green) bound to an agonist drug (dobutamine) and in complex with a G Protein (GαsGβ1Gγ2). See the <a href="https://doi.org/10.2210/pdb8dcr/pdb">PDB Entry - 8DCR</a>.</em></p>
<p></p>
<hr>
<p><br></p>
<h5 class="anchored">
<strong>Trainee Pharmacist - Pharmacie de L’Ile</strong>
</h5>
<p><em>Jan 2023 - June 2023</em></p>
<p align="justify">
</p><p>This training is an integral and mandatory part of my Pharm.D where I ensure that patients receive optimal treatments (even in the current drug shortage environment) and proper advices. I also assist pharmacists in the final review of prescriptions, assessing their adequacy and safety. I am committed to working collaboratively with patients by involving them in their own care.</p>
<p></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="docs/pharmacieplus-ile-pharmacie-rolle-service-sante-1667917458.jpg" class="img-fluid figure-img" style="width:70.0%"></p>
<p></p><figcaption class="figure-caption">The image depicts the advice corner of the community pharmacy in Rolle, where I received my training. The pharmacy is known for its excellent setting to provide the best advice to patients</figcaption><p></p>
</figure>
</div>
<hr>
<p><br></p>
<h5 class="anchored">
<strong>Master’s Thesis</strong> - <strong>University College London</strong>
</h5>
<p><strong>Prof.&nbsp;Shozeb Haider &amp; Prof.&nbsp;Francesco L. Gervasio</strong> <br> <em>Aug 2022 - Dec 2022</em></p>
<p align="justify">
</p><p>I studied the activation of human and murine LHCGR by an allosteric small molecule agonist using homology modelling and performing molecular dynamics simulation studies. I was able to highlight interesting drug-mediated activation mechanisms that may be useful for designing more potent drugs. Furthermore, the results suggest differences in human and mouse binding sites, implying that the use of mouse animal models is not optimal for predicting the structure-related effects of this drug.</p>
<p></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="docs/gpcr_context.jpg" style="width:40.0%;height:40.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">ORG43553 is a small molecule capable of activating LHCGR in vitro. This property is particularly interesting since the endogenous LHCGR receptor agonists are peptides. This ligand holds promise for the development of orally active drugs to replace the limited use of injectable CG and LH in the treatment of reproductive disorders and assisted reproductive technologies.</figcaption><p></p>
</figure>
</div>
<p align="justify">
</p><p>Additionally, I was involved in the development of pancreatic cancer vaccines using patient neoantigens. I created an automated program using Python and Unix Bash Script to build homology models of patient’s neoantigen epitopes sequenced at The Johns Hopkins Hospital. The structural insights gained from these models were used to predict the immunogenicity of the epitopes, aiding rational vaccine development.</p>
<p></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="docs/MEPfig_generate.png" style="width:60.0%;height:60.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">The image displays two illustrations of the same model of a neoantigen-CMH complex. The mutant amino-acid, represented by the spheres in both illustrations, exhibits a high solvent-accessible surface area (SASA). It is plausible that such solvent exposure may facilitate the recognition of the neoantigen as “non-self” by the immune cell encountering this complex, thereby eliciting immunogenicity.</figcaption><p></p>
</figure>
</div>
<hr>
<p><br></p>
<h5 class="anchored">
<strong>Student Research Assistant</strong> - <strong>University of Geneva</strong>
</h5>
<p><strong>Prof.&nbsp;Stephane Guerrier</strong> <br> <em>Aug 2022 - Currently</em></p>
<p align="justify">
</p><p>I scripted Monte Carlo simulations in R to compare statistical methods, performed data analysis, and developed Shiny web application for visualizing the results. I also scripted custom bootstrap resampling script to estimate population parameters in training data sets.</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="docs/power.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">The figure depicts simulated probabilities of declaring two drugs as bioequivalent under different conditions, using the two one-sided t-test (TOST) procedure in red and an adjusted version of the TOST procedure in blue.</figcaption><p></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="covid_bootstrap.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">A Monte Carlo simulation was used to evaluate the performance of various bootstrap techniques in estimating confidence intervals for parameter estimates of a linear regression. The results are displayed in the graph, which presents the coverage rates for each method.</figcaption><p></p>
</figure>
</div>
</div>
</div>
</div>
<p></p>
<hr>
<p><br></p>
<h5 class="anchored">
<strong>Research Internship</strong> - <strong>Melanoma Institute Australia</strong>
</h5>
<p><strong>Prof.&nbsp;Serigne Lo</strong> <br> <em>July 2022 - Aug 2022</em></p>
<p align="justify">
</p><p>Using the world’s largest melanoma database, I analyzed a dataset of 6,000 patients followed in a 17-year longitudinal study aiming to evaluate the effectiveness of sentinel lymph node biopsy in melanoma patients. I wrote scripts in R using a range of statistical approaches, such as Cox Regression Model and Propensity Score Stratification. From the analysis I generated tables and graphs to present the findings.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="docs/MSS_by_SLNB2.jpeg" style="width:85.0%;height:85.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Although sentinel lymph node biopsy (SLNB) can provide useful information about cancer progression, it also carries surgical risks. In my analysis, I created and interpreted several tables and graphs to assess the effectiveness of SLNB and determine appropriate patient selection criteria. This graph shows the melanoma-specific survival rates of patients who underwent SLNB (blue) versus those who did not (red).</figcaption><p></p>
</figure>
</div>
<p></p>
<hr>
<p><br></p>
<h5 class="anchored">
<strong>Open Synthesis Network</strong> - <strong>DNDi &amp; University of Geneva</strong>
</h5>
<p><strong>Dr Sébastien Tardy &amp; Prof.&nbsp;Leonardo Scapozza</strong> <br> <em>Feb 2021 - Apr 2021</em></p>
<p align="justify">
</p><p>Open Synthesis Network is a project in which students are involved in the initial stages of research into neglected diseases. All students are tasked with synthesising a molecule that has never been synthesised before. These molecules are analogues of a previously identified molecule active against Chagas disease. The general objective of the project is to test the activity, toxicity and pharmacokinetic parameters of all these analogues in order to find a candidate and propose a SAR for the target. I successfully synthesised and purified my assigned analogue, using pharmaceutical chemistry process and analytical techniques such as TLC, H-NMR, C-NMR, HPLC-MS and FTIR results.</p>
<p></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="docs/osn.jpg" style="width:90.0%;height:90.0%" class="figure-img"></p>
<p></p><figcaption class="figure-caption">This illustration offers an overview of the four essential steps that I employed in the synthesis of my assigned analog. The Hit molecule is displayed in the upper left corner, and it exhibited a micromolar level of activity against T.cruzi.</figcaption><p></p>
</figure>
</div>
<hr>
<p><br></p>
<p><em>July 2018 - Aug 2018</em></p>
<h5 class="anchored">
<strong>Summer Trainee</strong> - <strong>Firmenich</strong>
</h5>
<p align="justify">
</p><p>I prepared fragrance blends from laboratory compounds and in-house technologies for home care, body care and fine perfumery. Additionally, I was responsible for sample management tasks, including labeling, preparation for shipment, transportation to laboratories, inventory and disposal.</p>
<p></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="docs/3077-firmenich-b41_dmk__los_b4122.jpg" class="img-fluid figure-img" style="width:70.0%"></p>
<p></p><figcaption class="figure-caption">Before starting university, I gained invaluable industry experience at Firmenich. This company specialises in creating fragrances, flavours, and ingredients that delight the senses. Additionally, they conduct research on human perception of molecules, and develop new technologies and manufacturing processes.</figcaption><p></p>
</figure>
</div>
<hr>
<p><br><br></p>
</section>
<section id="outreach-activities" class="level1">
<h1>Outreach activities</h1>
<p><img src="docs/volunteer_speaker.jpg" width="70%" height="70%"></p>
<p></p>
<p><em>Aug 2022</em> | <strong>Vice-Chairperson of the 4th IPSF EuRO Symposium</strong></p>
<p align="justify">
</p><p>Appointed Vice-Chairperson in a team of 20 motivated student to organize a educative event gathering students from all over Europe. All of this with the appreciated support of the city of Bern, the Swiss U Change Fund and private sponsors.</p>
<p></p>
<p><em>Mai 2022</em> | <strong>Guest Speaker at 132. BVT - Leipzig</strong></p>
<p align="justify">
</p><p>I participated in the national weekend of the BPhD (German Association of Pharmacy Students), where I spoke about the possibilities of student engagement at European and global level.</p>
<p><em>Mai 2022</em> | <strong>Delegate at the Geneva Health Forum 2022</strong></p>
<p align="justify">
</p><p>I was at the Fight the Fake Alliance’s Booth speaking about the challenges and issues associated with substandard and falsified medicines. I also had the opportunity to participate in various sessions and have enriching exchanges.</p>
<p></p>
<p><em>Jan 2022</em> | <strong>Head of Public Relations - asep</strong></p>
<p align="justify">
</p><p>I was elected to the board of asep (Swiss Association of Pharmacy Students), responsible for a team aiming to maintain a good image of the association and to develop the association’s relations with external stakeholders.</p>
<p></p>
<p><em>Oct 2021</em> | <strong>Delegate at the 43rd EPSA Annual Congress - Lyon</strong></p>
<p align="justify">
</p><p>I attended the congress of EPSA (European Pharmacy Student’s Association) as an Offical Delegate to vote, debate and speak on behalf of the Swiss students</p>
<p></p>
<p><em>Oct 2021</em> | <strong>Guest Speaker at PsyKo 2021 - Leysins</strong></p>
<p align="justify">
</p><p>At the Swiss national psychology student’s congress, I held a presentation on depressive disorders, with the perspective of pharmacy students, discussing pre-clinical research concepts and suggesting on the potential role of collaboration between pharmacists and psychologists</p>
<p></p>
<p><em>Aug 2021</em> | <strong>Delegate at the 66th IPSF World Congress - Seoul</strong></p>
<p align="justify">
</p><p>I Attended the congress as an Offical Delegate to vote, debate and speak on behalf of the Swiss students</p>
<p></p>
<p><em>Feb 2021</em> | <strong>Co-Host of the Digital Health Panel Discussion</strong></p>
<p align="justify">
</p><p>Co-organised and moderated a panel involving committed speakers from pharmacy, start-ups and academia to present their work related to digital health and answer students’ questions.</p>
<p></p>
<p><em>Jan 2021</em> | <strong>Contact Person to IPSF</strong></p>
<p align="justify">
</p><p>Elected by asep to represent the Swiss students in the International Pharmaceutical Student’s Federation (IPSF), which is the umbrella organisation for pharmacy student’s association representing more than 500,000 students from over 100 countries worldwide. IPSF collaborates with many organisations such as WHO, UN, FIP, IFPMA and national stakeholders. I have supported student interests on topics such as education, the pharmacists’ evolving profession and Global Health.</p>
<p></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>